
<%= render 'shared/navbar' %>

<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
    <%#= @restaurant.photo.each do |photo| %>
      <div class="carousel-item active">
        <%= image_tag("#{@restaurant.photo}", class: "show_pg_photo") %>
      </div>
    <%# end %>
  </div>
    <!-- if photo.count > 1 do this, else dont
    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a> -->
</div>

<div class="second_part_show container">
  <div class="show_firstrow">
    <h3 class="show_title"><%= @restaurant.name %> </h3>
  </div>

  <div class="show_secondrow">
    <p> <%= @restaurant.cuisine %>
    - <%= @restaurant.vegan %></p>
  </div>

  <div class="show_thirdrow">
    <h5 class="about_title">About</h5>
    <%= @restaurant.bio %>
  </div>
</div>

<div class="bg_space">
  <div class="show_fourthrow container">
    <h3 style="margin-bottom:0px;padding-top:10px;text-align:center;">Menu</h3>
  </div>

  <div class="meal-title container">
    <h4>Starters</h4>
  </div>

  <% @starters.each_with_index do |item, index| %>
  <!-- Button trigger modal -->
    <button type="button" class="" data-toggle="modal" data-target="#exampleModalCenter<%= index %>">
      <div class="container">
        <div class="card-product">
          <%= image_tag('928-Simple-King-Prawn-Garlic--Chilli-Linguine.2-x750.jpg', class: "dish_image") %>
          <div class="card-product-infos">
             <div class="price-align" style="display:flex;justify-content:space-between;">
              <h6><%= item.dish_name %></h6>
              <p> £<%= item.price %>.00 </p>
            </div>
            <p><%= item.description %></p>
          </div>
        </div>
      </div>
    </button>

    <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter<%= index %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalCenterTitle"><%= item.dish_name %></h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <% @options = Option.where(menu_item_id: item.id) %>
            <% @options.each do |option| %>
              <p>Add <%= option.description %></p>
              <p>+ £<%= option.price %>.00</p>
              <br>
            <% end %>
          </div>
          <div class="modal-footer">
            <%= form_tag restaurant_meals_path(@restaurant), method: :post do %>
              <%= hidden_field_tag :order, value: "#{item.dish_name}" %>
              <%= hidden_field_tag :price, value: item.price %>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-primary">Add to Order</button>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  <% end %>







  <div class="meal-title container">
    <h4>Mains</h4>
  </div>

  <% @mains.each do |item| %>
    <div class="container">
      <div class="card-product">
        <%= image_tag('928-Simple-King-Prawn-Garlic--Chilli-Linguine.2-x750.jpg', class: "dish_image") %>
        <div class="card-product-infos">
           <div class="price-align" style="display:flex;justify-content:space-between;">
            <h6><%= item.dish_name %></h6>
            <p> £<%= item.price %>.00 </p>
          </div>
          <p><%= item.description %></p>
        </div>
      </div>
    </div>
  <% end %>


  <div class="meal-title container">
    <h4>Desserts</h4>
  </div>

  <% @desserts.each do |item| %>
    <div class="container">
      <div class="card-product">
        <%= image_tag('928-Simple-King-Prawn-Garlic--Chilli-Linguine.2-x750.jpg', class: "dish_image") %>
        <div class="card-product-infos">
          <div class="price-align" style="display:flex;justify-content:space-between;">
            <h6><%= item.dish_name %></h6>
            <p> £<%= item.price %>.00 </p>
          </div>
          <p><%= item.description %></p>
        </div>
      </div>
    </div>
  <% end %>

</div>


<div class="footer container">
  <button class="btn btn-primary buttone" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
    <i class="fas fa-shopping-basket"></i>
    View current basket
    £0.00
  </button>

  <div class="collapse" id="collapseExample">
    <div class="card card-body">
      Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.
    </div>
  </div>
</div>

















